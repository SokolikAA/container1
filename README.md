# Урок 1. Механизмы пространства имен
Задание: необходимо продемонстрировать изоляцию одного и того же приложения (как решено на семинаре - командного интерпретатора) в различных пространствах имен.

Для запуска Bash в новом пространстве имен воспользуемся командой (так как команда требует привилегии суперпользователя, то выполняем через sudo):

sudo unshare -pf -n --mount-proc bash

Посмотрим получилось ли у нас изолировать и какие процессы запущенны:

ps -afx

![Screen1](https://github.com/SokolikAA/container1/assets/115178275/d9408114-1ebe-4a89-a5a6-ebde19dd6931)

Изолированная оболjчка видит всего два процесса (второй процесс сразу же исчезнет после выполнения команды). При этом PID процессов начинается с 1.
При этом основная система видит несколько родительских процессов и PID у нашего нового процесса 4357.

![Screen2](https://github.com/SokolikAA/container1/assets/115178275/a4db7477-60ca-45f3-8267-f2ae0937aee4)


Далее, из изолированного терминала, пробуем запустить пинг любого сайта, например ya.ru.

ping ya.ru

Пинг до указанного сайта не проходит, так как сеть в этом пронстранстве имен имеется только локальная.
Вводим команду $ hostname, что бы увидеть наш хост:

hostname

В изолированном терминале выполняем команду:

sudo unshare -u bash

Команда $ unshare запускает программу в новом namespace. Флаг -u говорит ей запустить bash в новом UTS namespace.
Теперь можно изменить системный hostname из нашего нового процесса bash и это не повлияет ни на какой другой процесс в системе. 
Изменяем хост в изолированном терминале:

hostname homework1

Эта команда никак не затронула хост основной системы. 

![Screen1](https://github.com/SokolikAA/container1/assets/115178275/d9408114-1ebe-4a89-a5a6-ebde19dd6931)

Проверяем из основной системы имя хоста и пинг того же сайта:

![Screen3](https://github.com/SokolikAA/container1/assets/115178275/2c67a2b6-acf3-4ab6-869c-67199b7f615f)

Имя хоста не изменилось и пинг проходит, значит процессы запущены в разных namespace.

Соколик Андрей.
